/* =========================================================
   Goblin DEX – Neon Modern Dark UI (2025)
   Works with your current HTML/JS structure (no framework)
   ========================================================= */

/* ------------------------------
   THEME TOKENS
------------------------------ */
:root{
  --bg0:#070A10;
  --bg1:#0B1020;
  --bg2:#0F1730;
  --bg3:#121C3A;

  --card:rgba(20,28,52,.78);
  --card2:rgba(16,22,42,.72);
  --glass:rgba(255,255,255,.04);

  --fg0:#F2F6FF;
  --fg1:#C9D5F3;
  --fg2:#93A6D4;
  --muted:#7F92C2;

  /* LED accents (bright on dark) */
  --cy:#2DFFF2;   /* cyan LED */
  --pk:#FF4FD8;   /* pink LED */
  --vt:#9B8CFF;   /* violet LED */
  --bl:#66B6FF;   /* blue LED */
  --lm:#CFFF4A;   /* lime LED */
  --am:#FFD054;   /* amber LED */
  --rd:#FF4B6A;

  --line1:rgba(255,255,255,.10);
  --line2:rgba(255,255,255,.16);
  --line3:rgba(255,255,255,.06);

  --shadow0: 0 18px 55px rgba(0,0,0,.45);
  --shadow1: 0 14px 34px rgba(0,0,0,.38);
  --shadow2: 0 10px 24px rgba(0,0,0,.30);

  --glow-cy: 0 0 0 1px rgba(45,255,242,.28), 0 0 22px rgba(45,255,242,.18);
  --glow-bl: 0 0 0 1px rgba(102,182,255,.26), 0 0 22px rgba(102,182,255,.16);
  --glow-vt: 0 0 0 1px rgba(155,140,255,.26), 0 0 22px rgba(155,140,255,.16);
  --glow-lm: 0 0 0 1px rgba(207,255,74,.26), 0 0 22px rgba(207,255,74,.16);
  --glow-pk: 0 0 0 1px rgba(255,79,216,.26), 0 0 22px rgba(255,79,216,.16);

  --r1:12px;
  --r2:16px;
  --r3:20px;
  --r4:26px;
  --pill:999px;

  --pad: clamp(12px, 1.2vw, 18px);
  --gap: clamp(10px, 1vw, 16px);

  --xxs:clamp(10px,.7vw,.82rem);
  --xs: clamp(11px,.78vw,.92rem);
  --s:  clamp(12px,.92vw,1.02rem);
  --m:  clamp(14px,1.08vw,1.18rem);
  --l:  clamp(16px,1.25vw,1.36rem);
  --xl: clamp(20px,1.9vw,2rem);

  --fx-f:.12s;
  --fx-m:.24s;
  --fx-s:.7s;

  --max-w: 1700px;
}

/* ------------------------------
   GLOBAL RESET / BASE
------------------------------ */
*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  color:var(--fg0);
  font-family:"Rajdhani","Orbitron",system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
  letter-spacing:.15px;

  background:
    radial-gradient(1200px 900px at 80% -10%, rgba(155,140,255,.12), transparent 60%),
    radial-gradient(900px 700px  at -10% 110%, rgba(45,255,242,.10), transparent 60%),
    radial-gradient(1100px 900px at 120% 50%, rgba(255,79,216,.06), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,.03), transparent 35%),
    linear-gradient(180deg, var(--bg0), var(--bg1) 40%, var(--bg0) 100%);
}

/* smoother UI */
a,button,input,select{ font:inherit; color:inherit; }
button{ background:none; border:none; }
img,canvas{ max-width:100%; height:auto; }
::selection{ background:rgba(45,255,242,.22); color:var(--fg0); }

/* ------------------------------
   APP WRAP
------------------------------ */
#app-root{
  min-height:100%;
  display:flex;
  flex-direction:column;
}

/* ------------------------------
   HEADER (sticky modern)
------------------------------ */
#app-header{
  position:sticky;
  top:0;
  z-index:50;

  padding:16px clamp(14px, 2vw, 22px) 14px;
  border-bottom:1px solid var(--line2);
  background:
    radial-gradient(900px 260px at 20% 0%, rgba(45,255,242,.10), transparent 55%),
    radial-gradient(900px 260px at 80% 0%, rgba(255,79,216,.08), transparent 55%),
    linear-gradient(180deg, rgba(18,26,52,.92), rgba(12,16,34,.86));
  backdrop-filter: blur(10px);
}

#app-header h1{
  margin:0;
  font-size: clamp(26px, 3.1vw, 44px);
  font-weight:900;
  letter-spacing:1px;
  text-transform:uppercase;
  background:linear-gradient(90deg, var(--cy), var(--am) 38%, var(--vt) 72%, var(--pk));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  filter: drop-shadow(0 0 14px rgba(45,255,242,.18));
}

#subtitle{
  margin:6px 0 12px 0;
  color:var(--fg1);
  font-size:var(--m);
  opacity:.92;
}

/* ------------------------------
   TOP ACTION BAR
------------------------------ */
#action-bar{
  display:grid;
  grid-template-columns: 1fr auto;
  gap: var(--gap);
  align-items:center;

  padding: 12px;
  border-radius: var(--r3);
  border: 1px solid var(--line1);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  box-shadow: var(--shadow2);
}

#duration-switch{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}

#duration-switch label{
  font-weight:900;
  color:var(--fg1);
  letter-spacing:.3px;
}

#sel-duration{
  appearance:none;
  -webkit-appearance:none;
  -moz-appearance:none;

  padding:10px 36px 10px 12px;
  border-radius: 14px;
  border:1px solid var(--line2);
  background:
    radial-gradient(160px 80px at 20% 0%, rgba(45,255,242,.10), transparent 60%),
    linear-gradient(180deg, rgba(24,32,64,.95), rgba(18,24,48,.85));
  color: var(--fg0);
  font-weight:900;
  letter-spacing:.2px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
  outline:none;
  position:relative;
  cursor:pointer;
}

#duration-switch{
  position:relative;
}
#duration-switch::after{
  content:"▾";
  position:absolute;
  right:14px;
  top:50%;
  transform:translateY(-50%);
  opacity:.9;
  pointer-events:none;
  color:var(--fg1);
}

#sel-duration:focus-visible{
  border-color: rgba(45,255,242,.72);
  box-shadow: var(--glow-cy);
}

/* duration hint */
#duration-hint{
  color: var(--fg2);
  font-size: var(--s);
  opacity:.92;
}

#cap-line{
  grid-column: 1 / -1;
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  color: var(--fg1);
  font-size: var(--s);
  opacity:.95;
}
#cap-label{
  color: var(--cy);
  font-weight:900;
  padding:4px 10px;
  border-radius: var(--pill);
  border:1px solid rgba(45,255,242,.35);
  background: rgba(45,255,242,.10);
  box-shadow: 0 0 18px rgba(45,255,242,.12);
}

#action-buttons{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:flex-end;
  flex-wrap:wrap;
}

#action-buttons button{
  cursor:pointer;
  padding: 11px 16px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(140px 70px at 10% 0%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg, rgba(24,30,60,.92), rgba(16,20,40,.86));
  color: var(--fg0);
  font-weight: 900;
  letter-spacing:.32px;

  transition: transform var(--fx-f), box-shadow var(--fx-f), border-color var(--fx-f), filter var(--fx-f);
  box-shadow: var(--shadow2);
}

#action-buttons button:hover{
  transform: translateY(-1px);
  border-color: rgba(102,182,255,.55);
  box-shadow: var(--shadow1), var(--glow-bl);
}
#action-buttons button:active{ transform: translateY(0); filter:brightness(.98); }

#btn-start:hover{ border-color: rgba(207,255,74,.70); box-shadow: var(--shadow1), var(--glow-lm); }
#btn-perk:hover{  border-color: rgba(155,140,255,.65); box-shadow: var(--shadow1), var(--glow-vt); }
#btn-copy-overlay:hover{ border-color: rgba(255,208,84,.70); box-shadow: var(--shadow1), 0 0 0 1px rgba(255,208,84,.28), 0 0 22px rgba(255,208,84,.16); }

/* disabled */
button[disabled]{
  opacity:.55;
  cursor:not-allowed;
  filter:saturate(.7) grayscale(.2);
  transform:none !important;
  box-shadow:none !important;
}

/* ------------------------------
   NEWS BANNER + STATUS
------------------------------ */
#news-banner{
  margin-top: 12px;
  padding: 12px;
  border-radius: var(--r3);
  border:1px dashed rgba(255,255,255,.18);
  background:
    radial-gradient(360px 160px at 20% 0%, rgba(255,79,216,.10), transparent 55%),
    radial-gradient(360px 160px at 80% 0%, rgba(45,255,242,.10), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  font-size: var(--m);
}
#news-banner strong{
  background:linear-gradient(90deg, var(--pk), var(--am));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  font-weight:900;
}

#status-row{
  margin-top: 10px;
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  align-items:center;
  color: var(--muted);
  font-size: var(--s);
}

#latency-label{
  color: var(--cy);
  position:relative;
  padding-right:14px;
}
#latency-label::after{
  content:"";
  position:absolute;
  right:0;
  top:50%;
  width:7px;
  height:7px;
  border-radius:50%;
  background: var(--cy);
  transform: translateY(-50%);
  animation: ping 1.8s infinite ease-out;
}

/* ------------------------------
   MAIN LAYOUT
------------------------------ */
#main-layout{
  width:100%;
  max-width: var(--max-w);
  margin: 16px auto 22px;
  padding: 0 clamp(12px, 2vw, 22px);

  display:grid;
  grid-template-columns: minmax(0, 2.25fr) minmax(320px, .75fr);
  gap: clamp(12px, 1.6vw, 20px);
  align-items:start;
}

/* ------------------------------
   GAME AREA
------------------------------ */
#game-area{
  padding: var(--pad);
  border:1px solid var(--line1);
  border-radius: var(--r4);
  background:
    radial-gradient(700px 380px at 20% 0%, rgba(102,182,255,.10), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: var(--shadow0);
  display:grid;
  gap: 10px;
}

#game-area > h2{
  margin:0 0 2px 2px;
  font-size: var(--xl);
  font-weight: 900;
  letter-spacing:.7px;
  background: linear-gradient(90deg, var(--bl), var(--vt), var(--pk), var(--cy));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

/* canvas wrap: NO overlays, crisp border */
#canvas-wrap{
  position:relative;
  overflow:hidden;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.20);
  background:#000;
  width:100%;
  height: min(52vh, 560px);
  box-shadow: 0 0 0 1px rgba(0,0,0,.35), 0 14px 40px rgba(0,0,0,.55);
}

/* the canvas must fill */
#game-canvas{
  position:absolute;
  inset:0;
  display:block;
  width:100% !important;
  height:100% !important;
  max-width:none;
  max-height:none;
  object-fit:fill;
  image-rendering: crisp-edges;
  image-rendering: pixelated;
  filter:none !important;
  backdrop-filter:none !important;
}

/* absolutely no pseudo overlays on canvas/wrap */
#canvas-wrap::before,#canvas-wrap::after,
#game-canvas::before,#game-canvas::after{
  content:none !important;
  display:none !important;
}

/* legend + ticker */
#legend,#ticker{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  font-size: var(--s);
  color: var(--fg1);
}
#legend span:first-child{
  color: var(--am);
  font-weight:900;
}
#legend span:not(:first-child){
  padding: 2px 9px;
  border-radius: 12px;
  border:1px solid var(--line2);
  background: rgba(255,255,255,.05);
}

#ticker{
  padding: 10px 12px;
  border-radius: 16px;
  border:1px solid var(--line2);
  background: rgba(255,255,255,.03);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
}
#ticker strong{ color: var(--cy); }
#ticker-line{
  display:inline-block;
  animation: neonFlux 7s linear infinite;
  will-change: filter;
}

/* ------------------------------
   PANELS
------------------------------ */
#panels{
  padding: var(--pad);
  border:1px solid var(--line1);
  border-radius: var(--r4);
  background:
    radial-gradient(700px 380px at 80% 0%, rgba(45,255,242,.10), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: var(--shadow0);
  display:grid;
  gap: 12px;
  align-content:start;
}

/* tabs: scrollable nice */
#tabs{
  display:flex;
  gap:10px;
  overflow:auto;
  padding-bottom: 2px;
  scrollbar-width: thin;
  scrollbar-color: rgba(155,140,255,.55) rgba(255,255,255,.06);
}

#tabs [role="tab"]{
  flex: 0 0 auto;
  min-width: 150px;

  cursor:pointer;
  padding: 11px 14px;
  border-radius: 16px;

  border:1px solid var(--line2);
  background:
    radial-gradient(140px 70px at 10% 0%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg, rgba(24,30,60,.92), rgba(16,20,40,.86));

  color: var(--fg0);
  font-weight:900;
  letter-spacing:.26px;
  text-align:center;

  transition: transform var(--fx-f), box-shadow var(--fx-f), border-color var(--fx-f), filter var(--fx-f);
}

#tabs [role="tab"]:hover{
  transform: translateY(-1px);
  border-color: rgba(102,182,255,.55);
  box-shadow: var(--shadow2), var(--glow-bl);
}
#tabs [role="tab"][aria-selected="true"]{
  border-color: rgba(45,255,242,.70);
  box-shadow: var(--shadow2), var(--glow-cy);
  filter: brightness(1.05);
}
#tabs [role="tab"][aria-selected="true"]::after{
  content:"";
  display:block;
  height:3px;
  margin-top:8px;
  border-radius: 3px;
  background: linear-gradient(90deg, var(--lm), var(--cy), var(--pk));
}

/* only show active panel (your JS sets hidden) */
#panels [role="tabpanel"]{
  padding: 12px;
  border-radius: var(--r3);
  border:1px solid var(--line2);
  background: rgba(0,0,0,.18);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  display:grid;
  gap: 10px;
}

#panels h3{
  margin:0 0 6px 0;
  font-size: var(--l);
  font-weight:900;
  background: linear-gradient(90deg, var(--pk), var(--vt), var(--bl));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
}

#my-status{ color: var(--muted); }

/* ------------------------------
   FILTERS / INPUTS (modern)
------------------------------ */
#filters{
  display:grid;
  gap:10px;
  grid-template-columns: 1.2fr .9fr auto auto auto;
  align-items:center;
}

#filters input[type="search"],
#filters select{
  padding: 11px 12px;
  border-radius: 14px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(140px 70px at 10% 0%, rgba(45,255,242,.08), transparent 60%),
    linear-gradient(180deg, rgba(24,30,60,.92), rgba(16,20,40,.86));
  color: var(--fg0);
  outline:none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  transition: border-color var(--fx-f), box-shadow var(--fx-f), filter var(--fx-f), transform var(--fx-f);
}

#filters input[type="search"]::placeholder{ color: rgba(201,213,243,.55); }

#filters input[type="search"]:focus-visible,
#filters select:focus-visible{
  border-color: rgba(45,255,242,.72);
  box-shadow: var(--glow-cy);
}

#filters label{
  color: var(--fg1);
  font-size: var(--s);
  font-weight: 900;
  justify-self:end;
  opacity:.95;
}

#flt-power{ accent-color: var(--cy); }
#flt-power-label{
  color: var(--cy);
  font-weight: 900;
  font-size: var(--s);
}

/* ------------------------------
   BUILDER CONTROLS AREA
------------------------------ */
#builder-controls{
  display:grid;
  gap: 10px;
  margin: 6px 0 12px;
}
#builder-controls .row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
}
#builder-controls .spacer{ flex: 1 1 auto; }

/* ------------------------------
   QUICK SELECT
------------------------------ */
#quick-select{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

#quick-select button{
  cursor:pointer;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(140px 70px at 10% 0%, rgba(255,255,255,.06), transparent 60%),
    linear-gradient(180deg, rgba(24,30,60,.92), rgba(16,20,40,.86));
  font-weight: 900;
  transition: transform var(--fx-f), box-shadow var(--fx-f), border-color var(--fx-f);
}
#quick-select button:hover{ transform: translateY(-1px); box-shadow: var(--shadow2); }
#qs-first:hover{ border-color: rgba(45,255,242,.65); box-shadow: var(--shadow2), var(--glow-cy); }
#qs-best:hover { border-color: rgba(255,208,84,.70); box-shadow: var(--shadow2), 0 0 0 1px rgba(255,208,84,.28), 0 0 22px rgba(255,208,84,.16); }
#qs-clear:hover{ border-color: rgba(255,79,216,.65); box-shadow: var(--shadow2), var(--glow-pk); }

/* ------------------------------
   SELECTION SUMMARY
------------------------------ */
#selection-summary{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap: 10px;

  padding: 12px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(260px 140px at 20% 0%, rgba(155,140,255,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
}

#sel-count{ font-weight: 900; }
#sel-stats{ color: var(--fg1); font-weight: 800; }

/* ------------------------------
   GOBLIN LIST (clean, modern)
------------------------------ */
#goblin-list{
  display:grid;
  gap:10px;
  grid-template-columns: 1fr;
  max-height: 52vh;
  overflow:auto;
  padding-right: 2px;

  scrollbar-width: thin;
  scrollbar-color: rgba(155,140,255,.55) rgba(255,255,255,.06);
}

#goblin-list button[role="checkbox"]{
  text-align:left;
  cursor:pointer;

  padding: 12px 14px;
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.16);

  background:
    radial-gradient(220px 110px at 10% 0%, rgba(45,255,242,.10), transparent 60%),
    radial-gradient(220px 110px at 60% 0%, rgba(155,140,255,.08), transparent 60%),
    linear-gradient(180deg, rgba(24,30,60,.92), rgba(16,20,40,.86));

  color: var(--fg0);
  font-weight: 900;
  letter-spacing:.18px;

  transition: transform var(--fx-f), box-shadow var(--fx-f), border-color var(--fx-f), filter var(--fx-f);
  box-shadow: 0 10px 26px rgba(0,0,0,.30);
}

#goblin-list button[role="checkbox"]:hover{
  transform: translateY(-1px);
  border-color: rgba(102,182,255,.55);
  box-shadow: var(--shadow1), var(--glow-bl);
}

#goblin-list button[role="checkbox"][aria-checked="true"]{
  border-color: rgba(207,255,74,.70);
  box-shadow: var(--shadow1), var(--glow-lm);
  filter: brightness(1.04);
}

#goblin-list button[disabled]{
  opacity:.55;
  cursor:not-allowed;
  box-shadow:none;
}

/* pagination button */
#view-more{ display:flex; justify-content:center; }
#btn-toggle-more{
  cursor:pointer;
  padding: 10px 14px;
  border-radius: 16px;
  border:1px solid var(--line2);
  background: rgba(255,255,255,.04);
  font-weight:900;
  transition: transform var(--fx-f), box-shadow var(--fx-f), border-color var(--fx-f);
}
#btn-toggle-more:hover{
  transform: translateY(-1px);
  border-color: rgba(255,208,84,.70);
  box-shadow: var(--shadow2), 0 0 0 1px rgba(255,208,84,.28), 0 0 22px rgba(255,208,84,.16);
}

/* ------------------------------
   GLOBAL / RECENT / REWARDS rows
------------------------------ */
#global-count{
  font-weight: 900;
  font-size: var(--l);
  color: var(--lm);
  text-shadow: 0 0 18px rgba(207,255,74,.18);
}

#global-list > div,
#recent-list > div,
#rewards-list > div{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background: rgba(255,255,255,.03);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);

  color: var(--fg0);
  display:flex;
  align-items:center;
  gap: 10px;

  transition: transform var(--fx-f), box-shadow var(--fx-f), border-color var(--fx-f), filter var(--fx-f);
}

#global-list > div:hover,
#recent-list > div:hover,
#rewards-list > div:hover{
  transform: translateY(-1px);
  border-color: rgba(155,140,255,.60);
  box-shadow: var(--shadow2), var(--glow-vt);
}

/* meta grid from your JS */
#global-meta{
  border-radius: 16px;
  border: 1px solid var(--line2);
  background: rgba(255,255,255,.03);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  padding: 10px 12px;
}

/* ------------------------------
   FORECAST BLOCK (your JS creates .hdr .grid .card .kv)
------------------------------ */
#run-forecast{
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(300px 160px at 20% 0%, rgba(45,255,242,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  padding: 12px;
  display:grid;
  gap: 10px;
}
#run-forecast .hdr{
  display:flex;
  gap: 10px;
  align-items:center;
  font-weight: 900;
}
#run-forecast .grid{
  display:grid;
  gap: 10px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
#run-forecast .card{
  border-radius: 14px;
  border: 1px solid var(--line2);
  background: rgba(0,0,0,.18);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  padding: 10px;
}
#run-forecast .kv{
  display:grid;
  gap: 6px;
  font-size: var(--s);
}
#run-forecast .kv div{
  display:flex;
  justify-content:space-between;
  gap: 10px;
}
#run-forecast .label{ color: var(--fg1); opacity:.92; }
#run-forecast .hint{ color: var(--muted); font-size: var(--xxs); }

/* chips/tags/badges (your HTML uses .badge and .tag) */
.tag{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 4px 10px;
  border-radius: 12px;
  border: 1px solid var(--line2);
  background: rgba(255,255,255,.04);
  font-weight: 900;
}
.tag.cyan{ color: var(--cy); }
.tag.violet{ color: var(--vt); }
.tag.pink{ color: var(--pk); }
.tag.amber{ color: var(--am); }

.badge{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding: 2px 10px;
  border-radius: var(--pill);
  border: 1px solid var(--line2);
  background: rgba(255,255,255,.05);
  font-weight: 900;
  font-size: var(--xxs);
}
.badge.ok{   color:#43FFC9; border-color:rgba(67,255,201,.35); background:rgba(67,255,201,.08); }
.badge.warn{ color:#FFD054; border-color:rgba(255,208,84,.35); background:rgba(255,208,84,.08); }
.badge.err{  color:#FF4B6A; border-color:rgba(255,75,106,.35); background:rgba(255,75,106,.08); }

/* focus ring */
button:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
select:focus-visible{
  box-shadow: 0 0 0 3px rgba(102,182,255,.28), inset 0 0 0 1px rgba(255,255,255,.35);
}

/* tooltips underline (optional) */
[title]{
  text-decoration: underline dotted rgba(255,255,255,.28);
  text-underline-offset: 3px;
}

/* ------------------------------
   TOASTS
------------------------------ */
#toast-host{
  position:fixed;
  right: 16px;
  bottom: calc(16px + env(safe-area-inset-bottom,0));
  display:grid;
  gap: 10px;
  z-index: 120;
}
#toast-host > div{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(220px 110px at 20% 0%, rgba(45,255,242,.10), transparent 60%),
    linear-gradient(180deg, rgba(24,30,60,.92), rgba(16,20,40,.86));
  box-shadow: var(--shadow2), var(--glow-cy);
  font-weight: 900;
  animation: toastIn .22s ease-out;
}

/* ------------------------------
   FOOTER
------------------------------ */
#app-footer{
  max-width: var(--max-w);
  margin: 10px auto 28px;
  padding: 10px clamp(12px, 2vw, 22px) 0;
  border-top: 1px solid var(--line3);
  color: var(--muted);
  font-size: var(--xxs);
}

/* ------------------------------
   SCROLLBARS
------------------------------ */
::-webkit-scrollbar{ width:10px; height:10px; }
::-webkit-scrollbar-track{ background: rgba(255,255,255,.04); }
::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(155,140,255,.70), rgba(45,255,242,.70));
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,.25);
}

/* ------------------------------
   RESPONSIVE
------------------------------ */
@media (max-width: 1100px){
  #main-layout{ grid-template-columns: 1fr; }
  #tabs [role="tab"]{ min-width: 160px; }
  #canvas-wrap{ height: min(54vh, 520px); }
}

@media (max-width: 860px){
  #filters{ grid-template-columns: 1fr 1fr; }
  #cap-line{ grid-column: 1 / -1; }
}

@media (max-width: 640px){
  #filters{ grid-template-columns: 1fr; }
  #goblin-list{ max-height: 46vh; }

  /* mobile: floating start button like “action FAB” */
  #btn-start{
    position: fixed;
    right: 16px;
    bottom: calc(16px + env(safe-area-inset-bottom,0));
    z-index: 130;

    border-radius: var(--pill);
    padding: 12px 18px;
    box-shadow: var(--shadow1), var(--glow-lm);
  }
}

/* disable hover lifts on touch devices */
@media (hover:none){
  #action-buttons button:hover,
  #tabs [role="tab"]:hover,
  #goblin-list button[role="checkbox"]:hover,
  #quick-select button:hover{
    transform:none;
  }
}

/* ------------------------------
   ANIMATIONS
------------------------------ */
@keyframes neonFlux{
  0%   { filter: drop-shadow(0 0 10px rgba(102,182,255,.22)) drop-shadow(0 0 18px rgba(45,255,242,.14)); }
  33%  { filter: drop-shadow(0 0 10px rgba(255,79,216,.20)) drop-shadow(0 0 18px rgba(255,208,84,.12)); }
  66%  { filter: drop-shadow(0 0 10px rgba(207,255,74,.18)) drop-shadow(0 0 18px rgba(155,140,255,.12)); }
  100% { filter: drop-shadow(0 0 10px rgba(102,182,255,.22)) drop-shadow(0 0 18px rgba(45,255,242,.14)); }
}
@keyframes ping{
  0%{ box-shadow: 0 0 0 0 rgba(45,255,242,.55); }
  80%{ box-shadow: 0 0 0 14px rgba(45,255,242,0); }
  100%{ box-shadow: 0 0 0 0 rgba(45,255,242,0); }
}
@keyframes toastIn{
  from{ transform: translateY(10px); opacity:0; }
  to  { transform: translateY(0); opacity:1; }
}
/* ✅ TAB PANELS: rispetta l'attributo hidden (gestito dal JS) */
#panels { 
  display: grid;
  grid-template-columns: 1fr; /* evita che i pannelli si affianchino */
  gap: 12px;
}

#panels [role="tabpanel"]{
  display: grid;              /* stile del pannello quando visibile */
  width: 100%;
  min-width: 0;
}

/* questa è la riga più importante */
#panels [role="tabpanel"][hidden]{
  display: none !important;   /* forza il comportamento corretto */
}
