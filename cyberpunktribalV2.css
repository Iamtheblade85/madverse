/* =====================================================================================
   cyberpunktribalV2.css — Goblin DEX (HTML+JS specific)
   - Works with the exact IDs/roles in your markup
   - Plays nice with JS that moves: #duration-switch, #cap-line, #action-buttons into #builder-controls
   - High-contrast, modern neon UI, responsive, with safe fallbacks
   ===================================================================================== */

/* ------------------------------
  TOKENS
------------------------------ */
:root{
  --max-w: 1900px;
  --gutter: clamp(12px, 2.6vw, 38px);
  --gap: clamp(10px, 1.2vw, 16px);

  --r-xs: 10px;
  --r-s:  14px;
  --r-m:  18px;
  --r-l:  22px;
  --r-xl: 28px;
  --pill: 999px;

  --bg0:#050610;
  --bg1:#070a18;
  --bg2:#0a1030;

  --fg0:#f2f6ff;
  --fg1:#cfd9ff;
  --fg2:#9fb0e6;
  --mut:#7f90c8;

  --cy:#2dfff2;
  --pk:#ff4fd8;
  --vt:#9b8cff;
  --bl:#66b6ff;
  --lm:#cfff4a;
  --am:#ffd054;
  --rd:#ff4b6a;

  --line0: rgba(255,255,255,.06);
  --line1: rgba(255,255,255,.10);
  --line2: rgba(255,255,255,.16);

  --shadow0: 0 22px 66px rgba(0,0,0,.55);
  --shadow1: 0 14px 42px rgba(0,0,0,.44);
  --shadow2: 0 10px 28px rgba(0,0,0,.36);

  --glow-cy: 0 0 0 1px rgba(45,255,242,.25), 0 0 26px rgba(45,255,242,.16);
  --glow-pk: 0 0 0 1px rgba(255,79,216,.22), 0 0 26px rgba(255,79,216,.14);
  --glow-lm: 0 0 0 1px rgba(207,255,74,.22),  0 0 26px rgba(207,255,74,.14);
  --glow-vt: 0 0 0 1px rgba(155,140,255,.22), 0 0 26px rgba(155,140,255,.14);
  --glow-am: 0 0 0 1px rgba(255,208,84,.22),  0 0 26px rgba(255,208,84,.14);

  --fx: .14s;
  --mx: 50%;
}

/* ------------------------------
  BASE / RESET
------------------------------ */
*{ box-sizing:border-box; }
html,body{ height:100%; margin:0; }
body{
  color: var(--fg0);
  font-family: "Rajdhani","Orbitron",system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
  letter-spacing: .15px;
  overflow-x: hidden;

  background:
    radial-gradient(1000px 700px at 85% -10%, rgba(155,140,255,.14), transparent 62%),
    radial-gradient(900px 700px at -10% 110%, rgba(45,255,242,.10), transparent 60%),
    radial-gradient(900px 700px at 120% 55%, rgba(255,79,216,.08), transparent 60%),
    radial-gradient(900px 600px at 50% 10%, rgba(102,182,255,.06), transparent 60%),
    linear-gradient(180deg, var(--bg0), var(--bg2) 50%, var(--bg0));
}
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events:none;
  opacity:.12;
  mix-blend-mode: screen;
  background:
    repeating-linear-gradient( 35deg, rgba(45,255,242,.18) 0 1px, transparent 1px 18px),
    repeating-linear-gradient(-35deg, rgba(255,79,216,.12) 0 1px, transparent 1px 24px),
    radial-gradient(1200px 900px at 25% 25%, rgba(207,255,74,.08), transparent 65%),
    radial-gradient(900px 700px at 75% 70%, rgba(255,208,84,.06), transparent 62%);
  filter: blur(.2px);
  z-index:0;
}
#app-root{ position:relative; z-index:1; min-height:100%; display:flex; flex-direction:column; }

a,button,input,select,textarea{ font:inherit; color:inherit; }
button{ background:none; border:none; }
img,canvas{ max-width:100%; height:auto; }
::selection{ background: rgba(45,255,242,.22); color: var(--fg0); }
[hidden]{ display:none !important; }


/* ------------------------------
  HEADER
------------------------------ */
#app-header{
  position: sticky;
  top: 0;
  z-index: 60;
  padding: 16px var(--gutter) 12px var(--gutter);
  border-bottom: 1px solid var(--line2);
  background:
    radial-gradient(1000px 280px at 18% 0%, rgba(45,255,242,.13), transparent 60%),
    radial-gradient(1000px 280px at 82% 0%, rgba(255,79,216,.10), transparent 60%),
    linear-gradient(180deg, rgba(16,22,50,.92), rgba(8,10,22,.86));
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}
#app-header h1{
  margin: 0;
  font-family: "Orbitron", "Rajdhani", sans-serif;
  font-weight: 900;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-size: clamp(26px, 3.0vw, 46px);
  background: linear-gradient(90deg, var(--cy), var(--am) 35%, var(--vt) 70%, var(--pk));
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
  filter: drop-shadow(0 0 14px rgba(45,255,242,.18));
}
#subtitle{
  margin: 6px 0 12px;
  color: var(--fg1);
  font-size: clamp(14px, 1.1vw, 17px);
  opacity: .95;
}

#news-banner{
  margin-top: 10px;
  padding: 12px;
  border-radius: var(--r-l);
  border: 1px dashed rgba(255,255,255,.18);
  background:
    radial-gradient(420px 180px at 18% 0%, rgba(255,79,216,.12), transparent 60%),
    radial-gradient(420px 180px at 82% 0%, rgba(45,255,242,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
}
#news-banner strong{
  background: linear-gradient(90deg, var(--pk), var(--am));
  -webkit-background-clip:text;
  background-clip:text;
  color:transparent;
  font-weight: 900;
}

#status-row{
  margin-top: 10px;
  display:flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
  color: var(--mut);
  font-size: 14px;
}
#latency-label{
  color: var(--cy);
  position: relative;
  padding-right: 14px;
  font-weight: 900;
}
#latency-label::after{
  content:"";
  position:absolute;
  right: 0;
  top: 50%;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: var(--cy);
  transform: translateY(-50%);
  box-shadow: 0 0 0 0 rgba(45,255,242,.55);
  animation: ping 1.8s infinite ease-out;
}

/* NOTE: JS moves controls out of #action-bar; keep it visually neutral */
#action-bar{
  margin-top: 10px;
  display:grid;
  gap: var(--gap);
}

/* ------------------------------
  MAIN LAYOUT
------------------------------ */
#main-layout{
  width: min(var(--max-w), calc(100% - var(--gutter) * 2));
  margin: 16px auto 18px;
  padding: 0;
  display:grid;
  grid-template-columns: minmax(580px, 1.55fr) minmax(380px, 1.05fr);
  gap: clamp(12px, 1.6vw, 22px);
  align-items: start;
}

/* ------------------------------
  CARD / SURFACE UTILITY (internal)
------------------------------ */
#game-area,
#panels{
  border-radius: var(--r-xl);
  border: 1px solid var(--line1);
  background:
    radial-gradient(820px 420px at 20% 0%, rgba(102,182,255,.10), transparent 62%),
    radial-gradient(820px 420px at 80% 26%, rgba(45,255,242,.08), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: var(--shadow0);
}

/* ------------------------------
  GAME AREA
------------------------------ */
#game-area{ padding: clamp(14px, 1.5vw, 20px); display:grid; gap: 10px; }
#game-area > h2{
  margin: 0 0 2px 2px;
  font-family: "Orbitron","Rajdhani",sans-serif;
  font-weight: 900;
  letter-spacing: .9px;
  font-size: clamp(18px, 1.9vw, 28px);
  background: linear-gradient(90deg, var(--bl), var(--vt), var(--pk), var(--cy));
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
}

#canvas-wrap{
  position: relative;
  overflow:hidden;
  border-radius: 22px;
  border: 1px solid rgba(255,255,255,.22);
  background: #000;
  box-shadow: 0 0 0 1px rgba(0,0,0,.35), 0 18px 52px rgba(0,0,0,.58);

  /* fallback vh + modern svh */
  height: clamp(360px, 56vh, 680px);
  height: clamp(360px, 56svh, 680px);
}

/* Canvas must fill: JS will set inline width/height; we ensure absolute fill */
#game-canvas{
  position:absolute;
  inset:0;
  display:block;
  width: 100% !important;
  height: 100% !important;
  max-width:none;
  max-height:none;
  object-fit: fill;
  image-rendering: auto;
  filter:none !important;
  backdrop-filter:none !important;
}

/* Do NOT overlay patterns on canvas */
#canvas-wrap::before,
#canvas-wrap::after,
#game-canvas::before,
#game-canvas::after{ content:none !important; display:none !important; }

/* Canvas feedback */
#canvas-feedback{
  position:absolute;
  left: 12px;
  bottom: 12px;
  width: min(440px, calc(100% - 24px));
  display:grid;
  gap: 6px;
  pointer-events:none;
  z-index: 8;
}
#canvas-feedback .msg{
  margin:0;
  padding: 8px 10px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16);
  background:
    radial-gradient(240px 120px at 20% 0%, rgba(45,255,242,.12), transparent 70%),
    linear-gradient(180deg, rgba(26,32,64,.85), rgba(14,18,40,.78));
  box-shadow: 0 10px 26px rgba(0,0,0,.45);
  color: var(--fg0);
  font-weight: 800;
  font-size: 13px;
  opacity: .95;
}

#legend,#ticker{
  display:flex;
  gap: 10px;
  align-items:center;
  flex-wrap: wrap;
  font-size: 14px;
  color: var(--fg1);
}
#legend span:first-child{ color: var(--am); font-weight: 900; }
#legend span:not(:first-child){
  padding: 2px 10px;
  border-radius: 12px;
  border:1px solid var(--line2);
  background: rgba(255,255,255,.05);
}

#ticker{
  padding: 10px 12px;
  border-radius: 16px;
  border:1px solid var(--line2);
  background:
    radial-gradient(420px 160px at 24% 0%, rgba(155,140,255,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
}
#ticker strong{ color: var(--cy); font-weight: 900; }
#ticker-line{ display:inline-block; animation: neonFlux 7s linear infinite; will-change: filter; }

/* ------------------------------
  PANELS
------------------------------ */
#panels{
  padding: clamp(14px, 1.5vw, 20px);
  display:grid;
  gap: 12px;
  align-content:start;
  min-width: 0;
}

/* Tabs */
#tabs{
  display:flex;
  flex-wrap: wrap;
  gap: 12px;
  align-items: stretch;
}
#tabs [role="tab"]{
  flex: 1 1 170px;
  min-width: 160px;
  text-align:center;
  text-transform: uppercase;
  letter-spacing: .38px;
  font-family: "Orbitron","Rajdhani",sans-serif;
  font-weight: 900;

  padding: 12px 14px;
  border-radius: 18px;

  cursor:pointer;
  user-select:none;
  position:relative;
  isolation:isolate;

  border: 1px solid rgba(255,255,255,.16);
  background:
    radial-gradient(260px 120px at var(--mx) 0%, rgba(45,255,242,.14), transparent 62%),
    radial-gradient(240px 110px at 82% 0%, rgba(255,79,216,.10), transparent 70%),
    linear-gradient(180deg, rgba(26,32,64,.90), rgba(14,18,40,.86));
  box-shadow: var(--shadow2);
  transition: transform var(--fx), box-shadow var(--fx), border-color var(--fx), filter var(--fx);
}
#tabs [role="tab"]:hover{
  transform: translateY(-1px);
  border-color: rgba(102,182,255,.55);
  box-shadow: var(--shadow1), var(--glow-cy);
  filter: brightness(1.03);
}
#tabs [role="tab"][aria-selected="true"]{
  border-color: rgba(45,255,242,.78);
  box-shadow: var(--shadow1), var(--glow-cy);
  filter: brightness(1.06);
}
#tabs [role="tab"][aria-selected="true"]::after{
  content:"";
  position:absolute;
  left: 14px;
  right: 14px;
  bottom: 8px;
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--lm), var(--cy), var(--pk));
  opacity: .95;
}

/* Panel shells */
#panels [role="tabpanel"]{
  padding: 12px;
  border-radius: var(--r-l);
  border: 1px solid var(--line2);
  background:
    radial-gradient(620px 260px at 20% 0%, rgba(255,255,255,.03), transparent 70%),
    linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.14));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  display:grid;
  gap: 10px;
  min-width:0;
}

#panels h3{
  margin: 0 0 6px 0;
  font-family: "Orbitron","Rajdhani",sans-serif;
  font-size: clamp(16px, 1.25vw, 20px);
  font-weight: 900;
  letter-spacing: .5px;
  background: linear-gradient(90deg, var(--pk), var(--vt), var(--bl));
  -webkit-background-clip:text;
  background-clip:text;
  color: transparent;
}
#my-status{ color: var(--mut); font-weight: 700; }

/* ------------------------------
  BUILDER CONTROLS (JS injects/moves items here)
------------------------------ */
#builder-controls{
  display:grid;
  gap: 10px;
  margin: 6px 0 8px;
}

/* Make the injected rows look like a “control deck” */
#builder-controls > div{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(520px 220px at 18% 0%, rgba(102,182,255,.10), transparent 60%),
    radial-gradient(520px 220px at 82% 0%, rgba(207,255,74,.08), transparent 60%),
    linear-gradient(180deg, rgba(26,32,64,.64), rgba(14,18,40,.58));
  box-shadow: 0 12px 32px rgba(0,0,0,.40);
  padding: 10px;
}

/* Cap line chips */
#cap-line{
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
  align-items:center;
  font-weight: 800;
  color: var(--fg1);
}
#cap-label{
  display:inline-flex;
  align-items:center;
  gap: 8px;
  color: var(--cy);
  font-weight: 900;
  padding: 6px 10px;
  border-radius: var(--pill);
  border: 1px solid rgba(45,255,242,.35);
  background: rgba(45,255,242,.08);
  box-shadow: 0 0 18px rgba(45,255,242,.10);
}
#reinf-label{
  color: var(--fg1);
  opacity: .92;
}

/* Duration */
#duration-switch{
  display:flex;
  align-items:center;
  gap: 10px;
  flex-wrap:wrap;
}
#duration-switch label{
  font-weight: 900;
  color: var(--fg1);
}
#sel-duration{
  /* JS sets inline styles: override to keep the “real” look */
  appearance: none !important;
  -webkit-appearance: none !important;
  -moz-appearance: none !important;

  padding: 10px 36px 10px 12px !important;
  border-radius: 14px !important;
  border: 1px solid var(--line2) !important;

  background:
    radial-gradient(180px 90px at var(--mx) 0%, rgba(45,255,242,.12), transparent 65%),
    linear-gradient(180deg, rgba(24,32,64,.96), rgba(14,18,40,.88)) !important;

  color: var(--fg0) !important;
  font-weight: 900 !important;
  letter-spacing: .2px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
  outline:none;
  cursor:pointer;
}
#duration-switch{ position:relative; }
#duration-switch::after{
  content:"▾";
  position:absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  opacity: .9;
  pointer-events: none;
  color: var(--fg1);
}
#sel-duration:focus-visible{
  border-color: rgba(45,255,242,.75) !important;
  box-shadow: var(--glow-cy);
}
#duration-hint{
  color: var(--fg2);
  font-size: 13px;
  opacity: .92;
}

/* ------------------------------
  INPUTS / FILTERS
------------------------------ */
#filters{
  display:grid;
  gap: 10px;
  grid-template-columns: 1.3fr .9fr auto 1fr auto;
  align-items: center;
  min-width:0;
  margin-top: 2px;
}
#filters input[type="search"],
#filters select{
  min-width: 0;
  padding: 11px 12px;
  border-radius: 14px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(220px 110px at var(--mx) 0%, rgba(45,255,242,.10), transparent 70%),
    linear-gradient(180deg, rgba(26,32,64,.92), rgba(14,18,40,.86));
  color: var(--fg0);
  outline:none;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  transition: border-color var(--fx), box-shadow var(--fx), filter var(--fx);
}
#filters input[type="search"]::placeholder{ color: rgba(207,217,255,.55); }
#filters input[type="search"]:focus-visible,
#filters select:focus-visible{
  border-color: rgba(45,255,242,.75);
  box-shadow: var(--glow-cy);
}
#filters label{
  color: var(--fg1);
  font-size: 13px;
  font-weight: 900;
  justify-self: end;
  opacity: .95;
}
#flt-power-label{
  color: var(--cy);
  font-weight: 900;
  font-size: 13px;
}

/* Range */
#flt-power{
  width: 100%;
  accent-color: var(--cy);
  height: 18px;
}
#flt-power:focus-visible{ outline: none; filter: drop-shadow(0 0 10px rgba(45,255,242,.20)); }

/* WebKit track/thumb */
#flt-power::-webkit-slider-runnable-track{
  height: 10px;
  border-radius: 999px;
  background:
    linear-gradient(90deg, rgba(45,255,242,.85), rgba(255,79,216,.25));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
}
#flt-power::-webkit-slider-thumb{
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  margin-top: -4px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.18);
  background:
    radial-gradient(circle at 35% 30%, rgba(255,255,255,.35), transparent 60%),
    radial-gradient(circle at 50% 120%, rgba(45,255,242,.25), transparent 62%),
    linear-gradient(180deg, rgba(26,32,64,.95), rgba(14,18,40,.90));
  box-shadow: 0 10px 22px rgba(0,0,0,.5), var(--glow-cy);
}

/* Firefox */
#flt-power::-moz-range-track{
  height: 10px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(45,255,242,.85), rgba(255,79,216,.25));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.10);
}
#flt-power::-moz-range-thumb{
  width: 18px;
  height: 18px;
  border-radius: 50%;
  border: 1px solid rgba(255,255,255,.18);
  background: linear-gradient(180deg, rgba(26,32,64,.95), rgba(14,18,40,.90));
  box-shadow: 0 10px 22px rgba(0,0,0,.5), var(--glow-cy);
}

/* ------------------------------
  BUTTONS (action + quick + list + tabs)
------------------------------ */
:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #goblin-list button[role="checkbox"]
){
  position: relative;
  isolation: isolate;
  user-select:none;
  cursor:pointer;

  border-radius: 18px;
  border: 1px solid rgba(255,255,255,.16);

  background:
    /* mouse highlight */
    radial-gradient(260px 120px at var(--mx) 0%, rgba(45,255,242,.14), transparent 62%),
    radial-gradient(240px 110px at 82% 0%, rgba(255,79,216,.10), transparent 70%),
    /* tribal micro texture */
    repeating-linear-gradient(135deg, rgba(255,255,255,.05) 0 1px, transparent 1px 12px),
    linear-gradient(180deg, rgba(26,32,64,.92), rgba(14,18,40,.86));

  box-shadow:
    0 10px 28px rgba(0,0,0,.35),
    inset 0 0 0 1px rgba(255,255,255,.04),
    inset 0 10px 18px rgba(255,255,255,.04);

  color: var(--fg0);
  font-weight: 900;
  letter-spacing: .28px;
  transition: transform var(--fx), box-shadow var(--fx), border-color var(--fx), filter var(--fx);
}

:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #goblin-list button[role="checkbox"]
)::after{
  content:"";
  position:absolute;
  inset: 1px;
  border-radius: 17px;
  pointer-events:none;
  background:
    radial-gradient(200px 60px at 30% 10%, rgba(255,255,255,.16), transparent 62%),
    linear-gradient(180deg, rgba(255,255,255,.08), transparent 45%);
  opacity: .75;
  mix-blend-mode: screen;
}

:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #goblin-list button[role="checkbox"]
):hover{
  transform: translateY(-1px);
  border-color: rgba(102,182,255,.55);
  box-shadow: var(--shadow1), var(--glow-cy);
  filter: brightness(1.03);
}
:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #goblin-list button[role="checkbox"]
):active{
  transform: translateY(0);
  filter: brightness(.99);
  box-shadow: var(--shadow2);
}
:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #goblin-list button[role="checkbox"]
):focus-visible{
  outline:none;
  border-color: rgba(45,255,242,.75);
  box-shadow: 0 0 0 3px rgba(45,255,242,.20), var(--shadow1);
}

:where(#action-buttons button)[disabled],
:where(#quick-select button)[disabled],
#btn-toggle-more[disabled],
#goblin-list button[disabled]{
  opacity:.52;
  cursor:not-allowed;
  filter:saturate(.65) grayscale(.2);
  box-shadow:none !important;
}

/* Action buttons group */
#action-buttons{ display:flex; gap: 10px; flex-wrap:wrap; align-items:center; justify-content:flex-end; }
#action-buttons button{ min-height: 46px; padding: 12px 18px; }

/* START / COPY variants */
#btn-start{
  border-color: rgba(207,255,74,.30);
  background:
    radial-gradient(260px 120px at var(--mx) 0%, rgba(207,255,74,.20), transparent 62%),
    radial-gradient(240px 110px at 82% 0%, rgba(45,255,242,.14), transparent 70%),
    repeating-linear-gradient(135deg, rgba(255,255,255,.05) 0 1px, transparent 1px 12px),
    linear-gradient(180deg, rgba(26,32,64,.92), rgba(14,18,40,.86));
  text-shadow: 0 0 14px rgba(207,255,74,.14);
}
#btn-start:hover{ box-shadow: var(--shadow1), var(--glow-lm); border-color: rgba(207,255,74,.75); }

#btn-copy-overlay{
  border-color: rgba(255,208,84,.28);
  background:
    radial-gradient(260px 120px at var(--mx) 0%, rgba(255,208,84,.18), transparent 62%),
    radial-gradient(240px 110px at 82% 0%, rgba(45,255,242,.10), transparent 70%),
    repeating-linear-gradient(135deg, rgba(255,255,255,.05) 0 1px, transparent 1px 12px),
    linear-gradient(180deg, rgba(26,32,64,.92), rgba(14,18,40,.86));
  text-shadow: 0 0 14px rgba(255,208,84,.12);
}
#btn-copy-overlay:hover{ box-shadow: var(--shadow1), var(--glow-am); border-color: rgba(255,208,84,.82); }

/* Quick select */
#quick-select{ display:flex; flex-wrap:wrap; gap: 10px; }
#qs-first:hover{ box-shadow: var(--shadow1), var(--glow-cy); }
#qs-best:hover { box-shadow: var(--shadow1), var(--glow-am); }
#qs-clear:hover{ box-shadow: var(--shadow1), var(--glow-pk); border-color: rgba(255,79,216,.55); }

/* ------------------------------
  SELECTION SUMMARY
------------------------------ */
#selection-summary{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap: 10px;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(420px 180px at 20% 0%, rgba(155,140,255,.11), transparent 65%),
    radial-gradient(420px 180px at 80% 0%, rgba(207,255,74,.08), transparent 65%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
}
#sel-count b{ color: var(--fg0); }
#sel-stats{ color: var(--fg1); font-weight: 800; }

/* ------------------------------
  GOBLIN LIST
------------------------------ */
#goblin-list{
  display:grid;
  gap: 10px;
  grid-template-columns: 1fr;
  padding-right: 2px;

  max-height: clamp(340px, 52vh, 720px);
  max-height: clamp(340px, 52svh, 720px);
  overflow:auto;

  scrollbar-width: thin;
  scrollbar-color: rgba(155,140,255,.55) rgba(255,255,255,.06);
}
#goblin-list button[role="checkbox"]{
  text-align:left;
  padding: 13px 14px;
  border-radius: 18px;
}
#goblin-list button[role="checkbox"][aria-checked="true"]{
  border-color: rgba(207,255,74,.75);
  box-shadow: var(--shadow1), var(--glow-lm);
  filter: brightness(1.04);
}

/* Pagination */
#view-more{ display:flex; justify-content:center; }
#btn-toggle-more{ padding: 10px 14px; min-height: 44px; }

/* ------------------------------
  GLOBAL / RECENT LISTS
------------------------------ */
#global-count{
  font-family: "Orbitron","Rajdhani",sans-serif;
  font-weight: 900;
  font-size: clamp(18px, 1.6vw, 22px);
  color: var(--lm);
  text-shadow: 0 0 18px rgba(207,255,74,.18);
}

/* rows are generated as #global-list > div with inline grid styles */
#global-list > div,
#recent-list > div{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(360px 160px at var(--mx) 0%, rgba(45,255,242,.08), transparent 72%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  color: var(--fg0);
}
#global-list{ display:grid; gap: 10px; }
#recent-list{ display:grid; gap: 10px; }

/* ------------------------------
  FORECAST (JS injects .hdr .grid .card .kv .label .hint)
------------------------------ */
#run-forecast{
  border-radius: 18px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(520px 220px at 22% 0%, rgba(45,255,242,.10), transparent 70%),
    radial-gradient(520px 220px at 82% 0%, rgba(255,79,216,.07), transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  padding: 12px;
  display:grid;
  gap: 10px;
}
#run-forecast .hdr{
  display:flex;
  gap: 10px;
  align-items:center;
  font-weight: 900;
}
#run-forecast .grid{
  display:grid;
  gap: 10px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
#run-forecast .card{
  border-radius: 14px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(420px 200px at var(--mx) 0%, rgba(255,255,255,.03), transparent 70%),
    linear-gradient(180deg, rgba(0,0,0,.20), rgba(0,0,0,.14));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  padding: 10px;
}
#run-forecast .kv{ display:grid; gap: 6px; font-size: 14px; }
#run-forecast .kv div{ display:flex; justify-content:space-between; gap: 10px; min-width:0; }
#run-forecast .label{ color: var(--fg1); opacity:.92; }
#run-forecast .hint{ color: var(--mut); font-size: 12px; }

/* ------------------------------
  TAGS / BADGES (used by JS)
------------------------------ */
.tag{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 4px 10px;
  border-radius: 12px;
  border: 1px solid var(--line2);
  background: rgba(255,255,255,.04);
  font-weight: 900;
  white-space: nowrap;
}
.tag.cyan{ color: var(--cy); }
.tag.violet{ color: var(--vt); }
.tag.pink{ color: var(--pk); }
.tag.amber{ color: var(--am); }

.badge{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 2px 10px;
  border-radius: var(--pill);
  border: 1px solid var(--line2);
  background: rgba(255,255,255,.05);
  font-weight: 900;
  font-size: 12px;
  white-space: nowrap;
}
.badge.ok{   color:#43ffc9; border-color:rgba(67,255,201,.35); background:rgba(67,255,201,.08); }
.badge.warn{ color:#ffd054; border-color:rgba(255,208,84,.35); background:rgba(255,208,84,.08); }
.badge.err{  color:#ff4b6a; border-color:rgba(255,75,106,.35); background:rgba(255,75,106,.08); }

/* ------------------------------
  ACTION HINT TEXT
------------------------------ */
#action-hint{
  color: var(--fg2);
  opacity: .9;
  font-size: 12px;
}

/* ------------------------------
  TOASTS
------------------------------ */
#toast-host{
  position: fixed;
  right: 16px;
  bottom: calc(16px + env(safe-area-inset-bottom,0));
  display:grid;
  gap: 10px;
  z-index: 120;
}
#toast-host > div{
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid var(--line2);
  background:
    radial-gradient(320px 160px at 20% 0%, rgba(45,255,242,.10), transparent 70%),
    linear-gradient(180deg, rgba(26,32,64,.92), rgba(14,18,40,.86));
  box-shadow: var(--shadow2), var(--glow-cy);
  font-weight: 900;
  animation: toastIn .22s ease-out;
}

/* ------------------------------
  FOOTER
------------------------------ */
#app-footer{
  width: min(var(--max-w), calc(100% - var(--gutter) * 2));
  margin: 10px auto 28px;
  padding: 10px 0 0;
  border-top: 1px solid var(--line0);
  color: var(--mut);
  font-size: 12px;
}

/* ------------------------------
  SCROLLBARS
------------------------------ */
::-webkit-scrollbar{ width: 10px; height: 10px; }
::-webkit-scrollbar-track{ background: rgba(255,255,255,.04); }
::-webkit-scrollbar-thumb{
  background: linear-gradient(180deg, rgba(155,140,255,.72), rgba(45,255,242,.72));
  border-radius: 10px;
  border: 2px solid rgba(0,0,0,.25);
}

/* ------------------------------
  RESPONSIVE
------------------------------ */
@media (max-width: 1100px){
  #main-layout{ grid-template-columns: 1fr; }
  #tabs [role="tab"]{ min-width: 160px; }
  #filters{ grid-template-columns: 1fr 1fr; }
  #filters label{ justify-self: start; }
}
@media (max-width: 680px){
  #filters{ grid-template-columns: 1fr; }
  #run-forecast .grid{ grid-template-columns: 1fr; }
}

/* Touch: avoid lifts */
@media (hover:none){
  #tabs [role="tab"]:hover,
  :where(#action-buttons button,#quick-select button,#btn-toggle-more,#goblin-list button[role="checkbox"]):hover{
    transform:none;
  }
}

/* Reduce motion */
@media (prefers-reduced-motion: reduce){
  *{
    animation-duration: .001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: .001ms !important;
    scroll-behavior: auto !important;
  }
}

/* ------------------------------
  ANIMATIONS
------------------------------ */
@keyframes neonFlux{
  0%   { filter: drop-shadow(0 0 10px rgba(102,182,255,.22)) drop-shadow(0 0 18px rgba(45,255,242,.14)); }
  33%  { filter: drop-shadow(0 0 10px rgba(255,79,216,.20)) drop-shadow(0 0 18px rgba(255,208,84,.12)); }
  66%  { filter: drop-shadow(0 0 10px rgba(207,255,74,.18)) drop-shadow(0 0 18px rgba(155,140,255,.12)); }
  100% { filter: drop-shadow(0 0 10px rgba(102,182,255,.22)) drop-shadow(0 0 18px rgba(45,255,242,.14)); }
}
@keyframes ping{
  0%{ box-shadow: 0 0 0 0 rgba(45,255,242,.55); }
  80%{ box-shadow: 0 0 0 14px rgba(45,255,242,0); }
  100%{ box-shadow: 0 0 0 0 rgba(45,255,242,0); }
}
@keyframes toastIn{
  from{ transform: translateY(10px); opacity:0; }
  to  { transform: translateY(0); opacity:1; }
}

/* ============================
   FIX: Duration <select> dropdown options readability
   ============================ */

/* 1) Ensure the control itself is always readable */
#sel-duration{
  color: var(--fg0) !important;
  background:
    radial-gradient(180px 90px at var(--mx) 0%, rgba(45,255,242,.12), transparent 65%),
    linear-gradient(180deg, rgba(24,32,64,.96), rgba(14,18,40,.88)) !important;
}

/* 2) Key fix: in some browsers the <option> list uses system colors unless explicitly set.
      Force a dark menu background + light text for options. */
#sel-duration option{
  background-color: #0b1026; /* dark, not pure black */
  color: #eef4ff;
}

/* 3) Improve selected/checked option (Firefox supports :checked on option) */
#sel-duration option:checked{
  background-color: rgba(45,255,242,.20);
  color: #ffffff;
}

/* 4) Hover on options (supported in some browsers; harmless elsewhere) */
#sel-duration option:hover{
  background-color: rgba(102,182,255,.22);
  color: #ffffff;
}

/* 5) Accessible focus ring on the select control */
#sel-duration:focus-visible{
  border-color: rgba(45,255,242,.82) !important;
  box-shadow: 0 0 0 3px rgba(45,255,242,.20), var(--glow-cy) !important;
}

/* 6) High-contrast fallback for forced-colors / Windows HC mode */
@media (forced-colors: active){
  #sel-duration{
    forced-color-adjust: none;
    background: Canvas !important;
    color: CanvasText !important;
    border-color: CanvasText !important;
  }
  #sel-duration option{
    background: Canvas !important;
    color: CanvasText !important;
  }
}

/* 7) Extra polish: make dropdown feel “premium” when the select is open (where supported) */
#duration-switch{
  filter: drop-shadow(0 10px 24px rgba(0,0,0,.35));
}
/* =====================================================================================
   Goblin DEX — UI HYPE PACK (paste at END of your CSS)
   - Fix select dropdown readability
   - Subtle, realistic animations + high-impact microinteractions
   - Loot Scanner forecast styling
   - Global panel “world is alive” emphasis
   - Performance + accessibility safe
   ===================================================================================== */

/* ------------------------------
  GLOBAL COLOR-SCHEME (helps <select>/<option> on many OS/browsers)
------------------------------ */
html, body{
  color-scheme: dark; /* IMPORTANT: helps prevent white-on-white option menus */
}

/* ------------------------------
  EXTRA TOKENS (tuned for “realistic, non-invasive” motion)
------------------------------ */
:root{
  --hype-aura: rgba(45,255,242,.10);
  --hype-aura2: rgba(255,79,216,.08);
  --hype-warm: rgba(255,208,84,.10);
  --hype-lime: rgba(207,255,74,.12);

  --anim-slow: 10s;
  --anim-med:  6.5s;
  --anim-fast: 3.6s;

  --scan-opacity: .18;
  --scan-speed: 7.5s;

  --spot-opacity: .40; /* hover “torch” strength */
}

/* ------------------------------
  BACKGROUND: subtle living aurora (no overlays on canvas itself)
------------------------------ */
body::after{
  content:"";
  position: fixed;
  inset: -20%;
  pointer-events:none;
  z-index: 0;
  opacity: .22;
  mix-blend-mode: screen;
  background:
    radial-gradient(900px 700px at 20% 20%, var(--hype-aura), transparent 60%),
    radial-gradient(900px 700px at 80% 65%, var(--hype-aura2), transparent 62%),
    radial-gradient(800px 600px at 65% 10%, var(--hype-warm), transparent 62%),
    radial-gradient(900px 650px at 30% 85%, var(--hype-lime), transparent 62%);
  filter: blur(14px);
  transform: translate3d(0,0,0);
  animation: auroraDrift var(--anim-slow) ease-in-out infinite alternate;
}
@keyframes auroraDrift{
  0%   { transform: translate3d(-1.5%, -1.0%, 0) scale(1.00); }
  100% { transform: translate3d( 1.2%,  1.1%, 0) scale(1.03); }
}

/* ------------------------------
  FIX: Duration <select> / <option> readability (white-on-white)
------------------------------ */
#sel-duration{
  color-scheme: dark;
  color: var(--fg0) !important;
  border-color: rgba(255,255,255,.18) !important;
  background:
    radial-gradient(180px 90px at var(--mx, 40%) 0%, rgba(45,255,242,.14), transparent 65%),
    linear-gradient(180deg, rgba(24,32,64,.96), rgba(14,18,40,.88)) !important;
}
#sel-duration option{
  background-color:#070b18;
  color:#eef4ff;
}
#sel-duration option:checked{
  background-color: rgba(45,255,242,.22);
  color:#fff;
}
#sel-duration option:hover{
  background-color: rgba(102,182,255,.22);
  color:#fff;
}
#sel-duration:focus-visible{
  border-color: rgba(45,255,242,.82) !important;
  box-shadow: 0 0 0 3px rgba(45,255,242,.18), 0 0 0 1px rgba(45,255,242,.22), var(--glow-cy) !important;
}

/* Windows high-contrast / forced colors */
@media (forced-colors: active){
  #sel-duration{ forced-color-adjust:none; background:Canvas !important; color:CanvasText !important; border-color:CanvasText !important; }
  #sel-duration option{ background:Canvas !important; color:CanvasText !important; }
}

/* ------------------------------
  PREMIUM MICROINTERACTIONS (buttons + tabs) using --mx spotlight
  (Your JS already updates --mx on mousemove)
------------------------------ */
:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #tabs [role="tab"],
  #goblin-list button[role="checkbox"]
){
  position: relative;
  isolation: isolate;
  transform: translateZ(0);
  will-change: transform, filter;
}

/* Hover spotlight that follows cursor (uses --mx: “0%..100%”) */
:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #tabs [role="tab"],
  #goblin-list button[role="checkbox"]
)::after{
  content:"";
  position:absolute;
  inset: 1px;
  border-radius: inherit;
  pointer-events:none;
  z-index: 1;
  opacity: 0;
  transition: opacity var(--fx-f), filter var(--fx-f);
  background:
    radial-gradient(220px 120px at var(--mx, 50%) 0%,
      rgba(255,255,255,var(--spot-opacity)),
      rgba(255,255,255,0) 62%);
  mix-blend-mode: screen;
  filter: blur(.2px);
}

:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #tabs [role="tab"],
  #goblin-list button[role="checkbox"]
):hover::after{
  opacity: .65;
}

/* Tiny “shimmer” pass on hover (subtle, not casino) */
:where(
  #action-buttons button,
  #quick-select button,
  #btn-toggle-more,
  #tabs [role="tab"]
)::before{
  content:"";
  position:absolute;
  inset: -1px;
  border-radius: inherit;
  pointer-events:none;
  z-index: 0;
  opacity: 0;
  background:
    linear-gradient(110deg,
      transparent 0%,
      rgba(255,255,255,.10) 18%,
      rgba(45,255,242,.14) 32%,
      rgba(255,79,216,.12) 48%,
      rgba(255,255,255,.08) 62%,
      transparent 80%);
  background-size: 220% 100%;
  transform: translateZ(0);
  filter: blur(.1px);
  transition: opacity var(--fx-f);
}
:where(#action-buttons button, #quick-select button, #btn-toggle-more, #tabs [role="tab"]):hover::before{
  opacity: .35;
  animation: microShimmer 1.25s ease-out 1;
}
@keyframes microShimmer{
  from{ background-position: 120% 0; }
  to  { background-position: -40% 0; }
}

/* ------------------------------
  START BUTTON: “breathing” readiness glow (ONLY when enabled)
  realistic: slow, low amplitude, turns off on disabled
------------------------------ */
#btn-start{
  border-color: rgba(207,255,74,.42) !important;
  text-shadow: 0 0 16px rgba(207,255,74,.16);
  letter-spacing: .38px;
}

#btn-start:not([disabled]){
  animation: startBreath 4.8s ease-in-out infinite;
}
@keyframes startBreath{
  0%,100%{
    box-shadow:
      0 12px 34px rgba(0,0,0,.40),
      0 0 0 1px rgba(207,255,74,.16),
      0 0 22px rgba(207,255,74,.10),
      inset 0 0 0 1px rgba(255,255,255,.04);
    filter: brightness(1.00) saturate(1.02);
  }
  50%{
    box-shadow:
      0 16px 44px rgba(0,0,0,.46),
      0 0 0 1px rgba(207,255,74,.22),
      0 0 30px rgba(207,255,74,.16),
      0 0 18px rgba(45,255,242,.10),
      inset 0 0 0 1px rgba(255,255,255,.06);
    filter: brightness(1.03) saturate(1.05);
  }
}

/* A tiny “ready” ping dot (top-right) when enabled */
#btn-start:not([disabled]) .ready-dot{ display:none; } /* (in case you ever add it in HTML) */
#btn-start:not([disabled]){ padding-right: 18px; }
#btn-start:not([disabled])::marker{ content:""; }
#btn-start:not([disabled])::before{
  /* do NOT conflict with other pseudos? This button already uses none in your base CSS.
     If you already have ::before on this button elsewhere, keep the dot via background instead. */
  content:"";
  position:absolute;
  right: 12px;
  top: 12px;
  width: 7px;
  height: 7px;
  border-radius: 50%;
  background: rgba(207,255,74,.95);
  box-shadow: 0 0 0 0 rgba(207,255,74,.38);
  opacity: .95;
  animation: readyPing 1.8s ease-out infinite;
  pointer-events:none;
}
@keyframes readyPing{
  0%   { box-shadow: 0 0 0 0 rgba(207,255,74,.34); transform: scale(1); }
  70%  { box-shadow: 0 0 0 14px rgba(207,255,74,0); transform: scale(1.05); }
  100% { box-shadow: 0 0 0 0 rgba(207,255,74,0); transform: scale(1); }
}

/* Disable breathing instantly if disabled */
#btn-start[disabled]{ animation: none !important; }
#btn-start[disabled]::before{ display:none !important; }

/* Copy overlay button: cooler “utility” vibe */
#btn-copy-overlay{
  border-color: rgba(255,208,84,.40) !important;
}
#btn-copy-overlay:hover{
  box-shadow: 0 16px 44px rgba(0,0,0,.46), var(--glow-am) !important;
}

/* ------------------------------
  TABS: feel like “modules” + animated active underline (slow)
------------------------------ */
#tabs [role="tab"]{
  text-transform: uppercase;
  letter-spacing: .42px;
}
#tabs [role="tab"][aria-selected="true"]{
  position: relative;
  overflow: hidden;
}
#tabs [role="tab"][aria-selected="true"]::after{
  /* animated neon underline (non-invasive) */
  content:"";
  position:absolute;
  left: 12px;
  right: 12px;
  bottom: 9px;
  height: 3px;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(45,255,242,.0), rgba(45,255,242,.85), rgba(255,79,216,.70), rgba(207,255,74,.65), rgba(45,255,242,.0));
  background-size: 220% 100%;
  opacity: .90;
  animation: underlineFlow 3.4s linear infinite;
  pointer-events:none;
}
@keyframes underlineFlow{
  from{ background-position: 0% 0; }
  to  { background-position: 220% 0; }
}

/* ------------------------------
  LOOT SCANNER — Run Forecast (high-impact, readable numbers, subtle scanning)
------------------------------ */
#run-forecast{
  position: relative;
  overflow: hidden;
  border-color: rgba(45,255,242,.26);
  box-shadow:
    0 18px 52px rgba(0,0,0,.38),
    0 0 0 1px rgba(45,255,242,.10),
    inset 0 0 0 1px rgba(255,255,255,.03);
}

/* scanline layer (does NOT touch canvas) */
#run-forecast::before{
  content:"";
  position:absolute;
  inset: 0;
  pointer-events:none;
  opacity: var(--scan-opacity);
  mix-blend-mode: screen;
  background:
    repeating-linear-gradient(
      180deg,
      rgba(255,255,255,.05) 0 1px,
      transparent 1px 6px
    );
}
#run-forecast::after{
  /* slow scanner sweep */
  content:"";
  position:absolute;
  inset:-40% -20%;
  pointer-events:none;
  opacity: .55;
  background:
    linear-gradient(115deg,
      transparent 0%,
      rgba(45,255,242,.10) 20%,
      rgba(255,79,216,.08) 35%,
      rgba(255,208,84,.06) 50%,
      transparent 70%);
  transform: translate3d(-10%, -10%, 0) rotate(6deg);
  filter: blur(8px);
  animation: scanSweep var(--scan-speed) ease-in-out infinite;
}
@keyframes scanSweep{
  0%   { transform: translate3d(-18%, -12%, 0) rotate(6deg); }
  50%  { transform: translate3d( 12%,  10%, 0) rotate(6deg); }
  100% { transform: translate3d(-18%, -12%, 0) rotate(6deg); }
}

/* Forecast header: “HUD” */
#run-forecast .hdr{
  align-items: center;
  gap: 10px;
}
#run-forecast .hdr .tag{
  border-color: rgba(45,255,242,.30);
  background:
    radial-gradient(180px 80px at var(--mx,50%) 0%, rgba(45,255,242,.14), transparent 65%),
    linear-gradient(180deg, rgba(22,28,58,.65), rgba(10,12,22,.38));
  box-shadow: 0 10px 26px rgba(0,0,0,.28), 0 0 18px rgba(45,255,242,.10);
}

/* Make the “numbers” feel rewarding */
#run-forecast .kv b{
  font-size: clamp(14px, 1.05vw, 18px);
  letter-spacing: .25px;
}
#run-forecast .kv .label{
  color: rgba(207,217,255,.88);
}
#run-forecast .card{
  position: relative;
  overflow: hidden;
  border-color: rgba(255,255,255,.14);
  transition: transform var(--fx-f), border-color var(--fx-f), box-shadow var(--fx-f), filter var(--fx-f);
}
#run-forecast .card:hover{
  transform: translateY(-1px);
  border-color: rgba(45,255,242,.28);
  box-shadow: 0 16px 44px rgba(0,0,0,.38), 0 0 22px rgba(45,255,242,.10);
  filter: brightness(1.02);
}

/* ------------------------------
  GLOBAL PANEL: “World feels alive”
  - top 3 entries get a hotter frame
------------------------------ */
#global-list > div{
  position: relative;
  overflow: hidden;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.14);
  background:
    radial-gradient(260px 120px at var(--mx,40%) 0%, rgba(45,255,242,.08), transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.03);
  padding: 10px 12px;
  margin: 0 0 10px 0;
  transition: transform var(--fx-f), border-color var(--fx-f), box-shadow var(--fx-f), filter var(--fx-f);
}
#global-list > div:hover{
  transform: translateY(-1px);
  border-color: rgba(155,140,255,.34);
  box-shadow: 0 16px 44px rgba(0,0,0,.34), 0 0 22px rgba(155,140,255,.10);
}

/* Top 3 = “HOT” */
#global-list > div:nth-child(-n+3){
  border-color: rgba(255,208,84,.26);
  box-shadow:
    0 18px 52px rgba(0,0,0,.36),
    0 0 0 1px rgba(255,208,84,.10),
    0 0 26px rgba(255,79,216,.08);
}
#global-list > div:nth-child(-n+3)::before{
  content:"";
  position:absolute;
  inset: 0;
  pointer-events:none;
  opacity: .22;
  background:
    linear-gradient(110deg,
      transparent 0%,
      rgba(255,208,84,.14) 18%,
      rgba(45,255,242,.12) 34%,
      rgba(255,79,216,.10) 52%,
      transparent 70%);
  background-size: 220% 100%;
  animation: hotShimmer 3.8s ease-in-out infinite;
}
@keyframes hotShimmer{
  0%   { background-position: 120% 0; }
  55%  { background-position: -60% 0; }
  100% { background-position: -60% 0; }
}

/* Badges look sharper and “gamey” */
.badge{
  background: rgba(255,255,255,.06);
  border-color: rgba(255,255,255,.14);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.18);
}
.badge.ok{
  box-shadow: 0 0 18px rgba(67,255,201,.10);
}
.badge.warn{
  box-shadow: 0 0 18px rgba(255,208,84,.10);
}
.badge.err{
  box-shadow: 0 0 18px rgba(255,75,106,.12);
}

/* ------------------------------
  TICKER + LATENCY: “alive” but calm
------------------------------ */
#ticker{
  position: relative;
  overflow: hidden;
}
#ticker::after{
  content:"";
  position:absolute;
  inset:-40% -20%;
  pointer-events:none;
  opacity: .22;
  background:
    linear-gradient(90deg,
      transparent 0%,
      rgba(45,255,242,.12) 20%,
      rgba(255,79,216,.10) 45%,
      rgba(207,255,74,.10) 70%,
      transparent 100%);
  background-size: 220% 100%;
  animation: tickerSheen 9.5s linear infinite;
  filter: blur(10px);
}
@keyframes tickerSheen{
  from{ background-position: 0% 0; }
  to  { background-position: 220% 0; }
}

/* Sync label feels responsive */
#latency-label{
  font-weight: 900;
  letter-spacing: .22px;
}
#latency-label::after{
  /* keep your ping dot but make it slightly more “organic” */
  animation: ping 1.9s infinite ease-out;
  opacity: .95;
}

/* ------------------------------
  CANVAS FEEDBACK (messages near canvas): readable, stylish, fades in
  (does NOT overlay the canvas graphics; sits inside #canvas-wrap container)
------------------------------ */
#canvas-feedback{
  position: absolute;
  left: 10px;
  top: 10px;
  display: grid;
  gap: 8px;
  max-width: min(420px, 85%);
  z-index: 3; /* above canvas element */
}
#canvas-feedback .msg{
  padding: 10px 12px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.16);
  background:
    radial-gradient(260px 120px at 18% 0%, rgba(45,255,242,.10), transparent 70%),
    linear-gradient(180deg, rgba(12,16,36,.68), rgba(8,10,20,.52));
  box-shadow: 0 14px 40px rgba(0,0,0,.45), 0 0 18px rgba(45,255,242,.10);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  color: rgba(242,246,255,.96);
  font-weight: 800;
  letter-spacing: .18px;
  animation: msgIn .22s ease-out;
}
@keyframes msgIn{
  from{ transform: translateY(-6px); opacity: 0; }
  to  { transform: translateY(0); opacity: 1; }
}

/* ------------------------------
  PERFORMANCE / SAFETY: never add overlays on actual canvas pixels
------------------------------ */
#canvas-wrap::before,
#canvas-wrap::after,
#game-canvas::before,
#game-canvas::after{
  content:none !important;
  display:none !important;
}

/* ------------------------------
  REDUCE MOTION: respectful fallback
------------------------------ */
@media (prefers-reduced-motion: reduce){
  body::after,
  #run-forecast::after,
  #ticker::after,
  #global-list > div:nth-child(-n+3)::before,
  #tabs [role="tab"][aria-selected="true"]::after,
  #btn-start:not([disabled]){
    animation: none !important;
  }
  :where(
    #action-buttons button,
    #quick-select button,
    #btn-toggle-more,
    #tabs [role="tab"],
    #goblin-list button[role="checkbox"]
  )::before{
    animation: none !important;
  }
}
